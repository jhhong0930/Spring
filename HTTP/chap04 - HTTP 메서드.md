# HTTP 메서드

---

### API URI 설계

- 리소스를 식별한 후 리소스(명사)와 행위(동사)를 분리하자
- 리소스: 회원
- 행위: 조회, 등록, 수정, 삭제
- 계층 구조상 상위를 컬렉션으로 보고 복수단어 사용을 권장한다(member -> members)

---

### HTTP 메서드

1. GET
   - 리소스 조회
   - 서버에 전달하고 싶은 데이터는 쿼리를 통하여 전달
   - 메시지 바디를 사용하여 데이터를 전달할 수는 있지만 권장하지 않는다

2. POST
   - 메시지 바디를 통해 서버로 요청 데이터를 전달하여 처리
   - 주로 전달된 데이터로 신규 리소스 등록, 프로세스 처리에 사용된다
     - HTML 양식에 입력 된 필드와 같은 데이터 블록을 데이터 처리 프로세스에 제공
     - 서버가 아직 식별하지 않은 새 리소스 생성
     - 기존 리소스에 데이터 추가

3. PUT
   - 클라이언트가 리소스를 식별
   - 리소스가 없으면  생성
   - 리소스가 있으면 완전히 대체 (덮어쓰기)
     - ex) 기존에 name, age 두 필드가 있는 경우 age 필드만 요청하면 name 필드는 삭제된다

4. PATCH
   - 리소스 부분 변경

5. DELETE
   - 리소스 제거

### 기타 메서드

- HEAD: GET과 동일하지만 메시지 부분을 제외하고 상태 줄과 헤더만 반환
- OPTIONS: 대상 리소스에 대한 통신 가능 옵션(메서드)을 설명(주로 CORS에서 사용)
- CONNECT: 대상 리소스로 식별되는 서버에 대한 터널을 설정
- TRACE: 대상 리소스에 대한 경로를 따라 메시지 루프백 테스트를 수행

---

### HTTP 메서드의 속성

![](C:\Users\jhhon\OneDrive\사진\Document\HTTP 메소드 속성.png)

- Safe 안전: 호출해도 리소스를 변경하지 않는다
- Idempotent 멱등: 동일한 요청을 한 번 보내는 것과 여러 번 연속으로 보내는 것이 같은 효과를 지니고 서버의 상태도 동일하게 남는 것 == 멱등성
  - GET: 한 번 조회, 여러 번 조회 모두 같은 결과가 조회된다
  - PUT: 결과를 대체한다, 같은 요청을 여러번 해도 최종 결과는 같다
  - DELETE: 결과를 삭제한다, 같은 요청을 여러번 해도 삭제된 결과는 똑같다
  - POST: 두 번 호출하면 같은 결제가 중복해서 발생할 수 있으므로 멱등이 아니다

- Cacheable 캐시가능: 응답 결과 리소스의 캐시 사용 가능
  - GET, HEAD, POST, PATCH 캐시가능, 실제로는 GET, HEAD 정도만 캐시로 사용
    - POST, PATCH는 본문 내용까지 캐시 키로 고려해야 하는데 구현이 쉽지 않다

